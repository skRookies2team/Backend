{"openapi":"3.0.1","info":{"title":"Story Game API","description":"인터랙티브 스토리 게임 플레이어 API 문서","contact":{"name":"Story Game Team","url":"https://github.com/skRookies2team"},"version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"개발 서버"}],"tags":[{"name":"Health Check","description":"서버 및 연결 상태 확인 API"},{"name":"Authentication","description":"인증 관련 API"},{"name":"Comment","description":"댓글 관련 API"},{"name":"Game","description":"게임 플레이 및 스토리 관리 API"},{"name":"Story Management","description":"스토리 생성 관리 API - 소설 업로드부터 스토리 생성까지의 전 과정을 단계별로 관리합니다"},{"name":"Post","description":"게시판 관련 API"},{"name":"User","description":"마이페이지 관련 API"},{"name":"Review","description":"스토리 리뷰 관련 API"}],"paths":{"/api/users/me":{"get":{"tags":["User"],"summary":"내 프로필 조회","description":"현재 로그인한 사용자의 프로필을 조회합니다","operationId":"getMyProfile","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileDto"}}}}}},"put":{"tags":["User"],"summary":"프로필 수정","description":"사용자 프로필을 수정합니다","operationId":"updateProfile","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileDto"}}}}}}},"/api/reviews/{reviewId}":{"put":{"tags":["Review"],"summary":"리뷰 수정","description":"리뷰를 수정합니다","operationId":"updateReview","parameters":[{"name":"reviewId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReviewRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReviewResponseDto"}}}}}},"delete":{"tags":["Review"],"summary":"리뷰 삭제","description":"리뷰를 삭제합니다","operationId":"deleteReview","parameters":[{"name":"reviewId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/posts/{postId}":{"get":{"tags":["Post"],"summary":"게시글 상세 조회","description":"게시글 상세 정보를 조회합니다","operationId":"getPost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponseDto"}}}}}},"put":{"tags":["Post"],"summary":"게시글 수정","description":"게시글을 수정합니다","operationId":"updatePost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponseDto"}}}}}},"delete":{"tags":["Post"],"summary":"게시글 삭제","description":"게시글을 삭제합니다","operationId":"deletePost","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/comments/{commentId}":{"put":{"tags":["Comment"],"summary":"댓글 수정","description":"댓글을 수정합니다","operationId":"updateComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponseDto"}}}}}},"delete":{"tags":["Comment"],"summary":"댓글 삭제","description":"댓글을 삭제합니다","operationId":"deleteComment","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/stories/{storyId}/generate":{"post":{"tags":["Story Management"],"summary":"스토리 생성 시작","description":"AI 서버에 스토리 생성을 요청합니다. 백그라운드에서 생성이 진행되며, /progress 엔드포인트로 진행률을 확인할 수 있습니다.","operationId":"startGeneration","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryGenerationStartResponseDto"}}}}}}},"/api/stories/{storyId}/gauges/select":{"post":{"tags":["Story Management"],"summary":"게이지 선택","description":"제안된 5개 게이지 중 2개를 선택합니다. 선택된 게이지는 게임 플레이 중 추적됩니다.","operationId":"selectGauges","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GaugeSelectionRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GaugeSelectionResponseDto"}}}}}}},"/api/stories/{storyId}/config":{"post":{"tags":["Story Management"],"summary":"생성 설정","description":"스토리 생성을 위한 설정을 저장합니다. 에피소드 수, 트리 깊이, 엔딩 타입 분포 등을 설정합니다.","operationId":"configureStory","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryConfigRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryConfigResponseDto"}}}}}}},"/api/stories/upload":{"post":{"tags":["Story Management"],"summary":"소설 업로드 및 분석 시작","description":"소설 텍스트를 업로드하고 AI 분석을 시작합니다. 백그라운드에서 요약, 캐릭터, 게이지 추출이 진행됩니다.","operationId":"uploadNovel","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StoryUploadRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryUploadResponseDto"}}}}}}},"/api/reviews":{"post":{"tags":["Review"],"summary":"리뷰 작성","description":"스토리에 대한 리뷰를 작성합니다","operationId":"createReview","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReviewRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReviewResponseDto"}}}}}}},"/api/posts":{"get":{"tags":["Post"],"summary":"게시글 목록 조회","description":"게시글 목록을 조회합니다","operationId":"getPosts","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePostResponseDto"}}}}}},"post":{"tags":["Post"],"summary":"게시글 작성","description":"새로운 게시글을 작성합니다","operationId":"createPost","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePostRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PostResponseDto"}}}}}}},"/api/posts/{postId}/like":{"post":{"tags":["Post"],"summary":"게시글 좋아요 토글","description":"게시글 좋아요를 추가/취소합니다","operationId":"toggleLike","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/posts/{postId}/comments":{"get":{"tags":["Comment"],"summary":"댓글 목록 조회","description":"게시글의 댓글 목록을 조회합니다","operationId":"getComments","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponseDto"}}}}}}},"post":{"tags":["Comment"],"summary":"댓글 작성","description":"게시글에 댓글을 작성합니다","operationId":"createComment","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCommentRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentResponseDto"}}}}}}},"/api/posts/{postId}/bookmark":{"post":{"tags":["Post"],"summary":"게시글 북마크 토글","description":"게시글 북마크를 추가/취소합니다","operationId":"toggleBookmark","parameters":[{"name":"postId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/game/{sessionId}/choice":{"post":{"tags":["Game"],"operationId":"makeChoice","parameters":[{"name":"sessionId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChoiceRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GameStateResponseDto"}}}}}}},"/api/game/stories":{"get":{"tags":["Game"],"operationId":"getAllStories","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/StoryData"}}}}}}},"post":{"tags":["Game"],"operationId":"uploadStory","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryData"}}}}}}},"/api/game/stories/generate":{"post":{"tags":["Game"],"operationId":"generateStory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateStoryRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryData"}}}}}}},"/api/game/stories/analyze":{"post":{"tags":["Game"],"operationId":"analyzeNovel","requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/NovelAnalysisResponseDto"}}}}}}},"/api/game/start":{"post":{"tags":["Game"],"operationId":"startGame","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StartGameRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GameStateResponseDto"}}}}}}},"/api/comments/{commentId}/like":{"post":{"tags":["Comment"],"summary":"댓글 좋아요 토글","description":"댓글 좋아요를 추가/취소합니다","operationId":"toggleLike_1","parameters":[{"name":"commentId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/auth/signup":{"post":{"tags":["Authentication"],"summary":"회원가입","description":"새로운 사용자를 등록합니다","operationId":"signUp","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenResponseDto"}}}}}}},"/api/auth/refresh":{"post":{"tags":["Authentication"],"summary":"토큰 갱신","description":"리프레시 토큰으로 새로운 액세스 토큰을 발급받습니다","operationId":"refreshToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenResponseDto"}}}}}}},"/api/auth/logout":{"post":{"tags":["Authentication"],"summary":"로그아웃","description":"사용자 로그아웃을 처리합니다","operationId":"logout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"로그인","description":"사용자 로그인을 처리합니다","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TokenResponseDto"}}}}}}},"/api/users/{username}":{"get":{"tags":["User"],"summary":"다른 사용자 프로필 조회","description":"특정 사용자의 공개 프로필을 조회합니다","operationId":"getUserProfile","parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserProfileDto"}}}}}}},"/api/users/me/history":{"get":{"tags":["User"],"summary":"게임 플레이 기록 조회","description":"플레이한 스토리 목록과 엔딩 달성 현황을 조회합니다","operationId":"getGameHistory","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GameHistoryDto"}}}}}}}},"/api/users/me/achievements":{"get":{"tags":["User"],"summary":"업적 조회","description":"사용자의 업적 달성 현황을 조회합니다","operationId":"getAchievements","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AchievementDto"}}}}}}}},"/api/stories/{storyId}/summary":{"get":{"tags":["Story Management"],"summary":"요약 조회","description":"AI가 생성한 소설 요약을 조회합니다. status가 SUMMARY_READY 이상일 때 요약이 제공됩니다.","operationId":"getSummary","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StorySummaryResponseDto"}}}}}}},"/api/stories/{storyId}/result":{"get":{"tags":["Story Management"],"summary":"생성 완료 결과 조회","description":"생성이 완료된 스토리의 정보를 조회합니다. storyDataId를 사용하여 게임을 시작할 수 있습니다.","operationId":"getResult","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryResultResponseDto"}}}}}}},"/api/stories/{storyId}/progress":{"get":{"tags":["Story Management"],"summary":"생성 진행률 조회","description":"스토리 생성 진행 상태를 조회합니다. 프론트엔드에서 3-5초마다 폴링하여 진행률을 확인합니다.","operationId":"getProgress","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryProgressResponseDto"}}}}}}},"/api/stories/{storyId}/gauges":{"get":{"tags":["Story Management"],"summary":"게이지 제안 조회","description":"AI가 소설 주제에 맞춰 제안한 5개의 게이지를 조회합니다. 사용자는 이 중 2개를 선택해야 합니다.","operationId":"getGauges","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryGaugesResponseDto"}}}}}}},"/api/stories/{storyId}/characters":{"get":{"tags":["Story Management"],"summary":"캐릭터 조회","description":"AI가 추출한 주요 캐릭터 목록을 조회합니다. 각 캐릭터의 이름, 별칭, 설명, 관계 정보가 포함됩니다.","operationId":"getCharacters","parameters":[{"name":"storyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/StoryCharactersResponseDto"}}}}}}},"/api/reviews/story/{storyDataId}":{"get":{"tags":["Review"],"summary":"스토리별 리뷰 목록 조회","description":"특정 스토리의 리뷰 목록을 조회합니다","operationId":"getReviewsByStory","parameters":[{"name":"storyDataId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageReviewResponseDto"}}}}}}},"/api/reviews/story/{storyDataId}/stats":{"get":{"tags":["Review"],"summary":"스토리 평점 통계 조회","description":"스토리의 평균 평점과 리뷰 수를 조회합니다","operationId":"getStoryRatingStats","parameters":[{"name":"storyDataId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/reviews/story/{storyDataId}/me":{"get":{"tags":["Review"],"summary":"내 리뷰 조회","description":"특정 스토리에 대한 내 리뷰를 조회합니다","operationId":"getMyReviewForStory","parameters":[{"name":"storyDataId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ReviewResponseDto"}}}}}}},"/api/posts/type/{type}":{"get":{"tags":["Post"],"summary":"타입별 게시글 조회","description":"특정 타입의 게시글을 조회합니다","operationId":"getPostsByType","parameters":[{"name":"type","in":"path","required":true,"schema":{"type":"string","enum":["GENERAL","STORY","QUESTION","GUIDE","NOTICE"]}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePostResponseDto"}}}}}}},"/api/posts/search":{"get":{"tags":["Post"],"summary":"게시글 검색","description":"키워드로 게시글을 검색합니다","operationId":"searchPosts","parameters":[{"name":"keyword","in":"query","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePostResponseDto"}}}}}}},"/api/health":{"get":{"tags":["Health Check"],"summary":"전체 시스템 상태 확인","description":"서버, 데이터베이스, AI 서버의 연결 상태를 확인합니다","operationId":"healthCheck","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/health/database":{"get":{"tags":["Health Check"],"summary":"데이터베이스 상태 확인","description":"데이터베이스 연결 상태 및 저장된 데이터 개수를 확인합니다","operationId":"databaseStatus","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/health/ai-server":{"get":{"tags":["Health Check"],"summary":"AI 서버 상태 확인","description":"Python AI 서버의 연결 상태를 확인합니다","operationId":"aiServerStatus","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/api/game/{sessionId}":{"get":{"tags":["Game"],"operationId":"getGameState","parameters":[{"name":"sessionId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GameStateResponseDto"}}}}}}},"/api/game/ai/health":{"get":{"tags":["Game"],"operationId":"checkAiHealth","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}}},"components":{"schemas":{"UpdateProfileRequestDto":{"type":"object","properties":{"nickname":{"maxLength":50,"minLength":2,"type":"string"},"bio":{"maxLength":500,"minLength":0,"type":"string"},"profileImageUrl":{"type":"string"}}},"UserProfileDto":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"nickname":{"type":"string"},"bio":{"type":"string"},"profileImageUrl":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"totalPlayCount":{"type":"integer","format":"int64"},"completedStoryCount":{"type":"integer","format":"int64"},"unlockedEndingCount":{"type":"integer","format":"int64"},"unlockedAchievementCount":{"type":"integer","format":"int64"},"achievementRate":{"type":"number","format":"double"}}},"CreateReviewRequestDto":{"required":["rating","storyDataId"],"type":"object","properties":{"storyDataId":{"type":"integer","format":"int64"},"rating":{"maximum":5,"minimum":1,"type":"integer","format":"int32"},"content":{"type":"string"}}},"ReviewResponseDto":{"type":"object","properties":{"reviewId":{"type":"integer","format":"int64"},"authorUsername":{"type":"string"},"authorNickname":{"type":"string"},"storyDataId":{"type":"integer","format":"int64"},"rating":{"type":"integer","format":"int32"},"content":{"type":"string"},"likeCount":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"CreatePostRequestDto":{"required":["content","title","type"],"type":"object","properties":{"title":{"maxLength":200,"minLength":0,"type":"string"},"content":{"type":"string"},"type":{"type":"string","enum":["GENERAL","STORY","QUESTION","GUIDE","NOTICE"]}}},"PostResponseDto":{"type":"object","properties":{"postId":{"type":"integer","format":"int64"},"authorUsername":{"type":"string"},"authorNickname":{"type":"string"},"title":{"type":"string"},"content":{"type":"string"},"type":{"type":"string"},"viewCount":{"type":"integer","format":"int32"},"likeCount":{"type":"integer","format":"int32"},"commentCount":{"type":"integer","format":"int32"},"isLiked":{"type":"boolean"},"isBookmarked":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"CommentResponseDto":{"type":"object","properties":{"commentId":{"type":"integer","format":"int64"},"authorUsername":{"type":"string"},"authorNickname":{"type":"string"},"content":{"type":"string"},"parentId":{"type":"integer","format":"int64"},"likeCount":{"type":"integer","format":"int32"},"isLiked":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"replies":{"type":"array","items":{"$ref":"#/components/schemas/CommentResponseDto"}}}},"StoryGenerationStartResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"message":{"type":"string"},"estimatedTime":{"type":"string"}}},"GaugeSelectionRequestDto":{"required":["selectedGaugeIds"],"type":"object","properties":{"selectedGaugeIds":{"maxItems":2,"minItems":2,"type":"array","items":{"type":"string"}}}},"GaugeDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"meaning":{"type":"string"},"description":{"type":"string"},"min_label":{"type":"string"},"max_label":{"type":"string"}}},"GaugeSelectionResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"selectedGauges":{"type":"array","items":{"$ref":"#/components/schemas/GaugeDto"}}}},"StoryConfigRequestDto":{"required":["endingConfig"],"type":"object","properties":{"description":{"type":"string"},"numEpisodes":{"maximum":10,"minimum":1,"type":"integer","format":"int32"},"maxDepth":{"maximum":5,"minimum":2,"type":"integer","format":"int32"},"endingConfig":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"numEpisodeEndings":{"maximum":5,"minimum":1,"type":"integer","format":"int32"}}},"ConfigData":{"type":"object","properties":{"description":{"type":"string"},"numEpisodes":{"type":"integer","format":"int32"},"maxDepth":{"type":"integer","format":"int32"},"endingConfig":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"numEpisodeEndings":{"type":"integer","format":"int32"}}},"StoryConfigResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"config":{"$ref":"#/components/schemas/ConfigData"}}},"StoryUploadRequestDto":{"required":["novelText","title"],"type":"object","properties":{"title":{"type":"string"},"novelText":{"type":"string"}}},"StoryUploadResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"title":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"createdAt":{"type":"string","format":"date-time"}}},"CreateCommentRequestDto":{"required":["content"],"type":"object","properties":{"content":{"type":"string"},"parentId":{"type":"integer","format":"int64"}}},"ChoiceRequestDto":{"type":"object","properties":{"choiceIndex":{"type":"integer","format":"int32"}}},"EpisodeEndingDto":{"type":"object","properties":{"id":{"type":"string"},"title":{"type":"string"},"condition":{"type":"string"},"text":{"type":"string"},"gauge_changes":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}}},"FinalEndingDto":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"title":{"type":"string"},"condition":{"type":"string"},"summary":{"type":"string"}}},"GameStateResponseDto":{"type":"object","properties":{"sessionId":{"type":"string"},"currentEpisodeId":{"type":"string"},"currentNodeId":{"type":"string"},"gaugeStates":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"accumulatedTags":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"episodeTitle":{"type":"string"},"introText":{"type":"string"},"nodeText":{"type":"string"},"nodeDetails":{"$ref":"#/components/schemas/StoryNodeDetailDto"},"choices":{"type":"array","items":{"$ref":"#/components/schemas/StoryChoiceDto"}},"gaugeDefinitions":{"type":"array","items":{"$ref":"#/components/schemas/GaugeDto"}},"isEpisodeEnd":{"type":"boolean"},"isGameEnd":{"type":"boolean"},"episodeEnding":{"$ref":"#/components/schemas/EpisodeEndingDto"},"finalEnding":{"$ref":"#/components/schemas/FinalEndingDto"}}},"StoryChoiceDto":{"type":"object","properties":{"text":{"type":"string"},"tags":{"type":"array","items":{"type":"string"}}}},"StoryNodeDetailDto":{"type":"object","properties":{"situation":{"type":"string"},"npc_emotions":{"type":"object","additionalProperties":{"type":"string"}},"relations_update":{"type":"object","additionalProperties":{"type":"string"}}}},"StoryData":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"description":{"type":"string"},"storyJson":{"type":"string"},"totalEpisodes":{"type":"integer","format":"int32"},"totalNodes":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"GenerateStoryRequestDto":{"required":["novelText","selectedGaugeIds","title"],"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"novelText":{"type":"string"},"selectedGaugeIds":{"maxItems":2147483647,"minItems":2,"type":"array","items":{"type":"string"}},"numEpisodes":{"maximum":10,"minimum":1,"type":"integer","format":"int32"},"maxDepth":{"maximum":5,"minimum":2,"type":"integer","format":"int32"},"endingConfig":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"numEpisodeEndings":{"minimum":1,"type":"integer","format":"int32"}}},"CharacterDto":{"type":"object","properties":{"name":{"type":"string"},"aliases":{"type":"array","items":{"type":"string"}},"description":{"type":"string"},"relationships":{"type":"array","items":{"type":"string"}}}},"NovelAnalysisResponseDto":{"type":"object","properties":{"summary":{"type":"string"},"characters":{"type":"array","items":{"$ref":"#/components/schemas/CharacterDto"}},"gauges":{"type":"array","items":{"$ref":"#/components/schemas/GaugeDto"}}}},"StartGameRequestDto":{"type":"object","properties":{"storyDataId":{"type":"integer","format":"int64"}}},"SignUpRequestDto":{"required":["email","nickname","password","username"],"type":"object","properties":{"username":{"maxLength":50,"minLength":3,"type":"string"},"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":6,"type":"string"},"nickname":{"maxLength":50,"minLength":2,"type":"string"}}},"TokenResponseDto":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"tokenType":{"type":"string"},"userId":{"type":"integer","format":"int64"},"username":{"type":"string"},"nickname":{"type":"string"}}},"RefreshTokenRequestDto":{"required":["refreshToken"],"type":"object","properties":{"refreshToken":{"type":"string"}}},"LoginRequestDto":{"required":["password","username"],"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"GameHistoryDto":{"type":"object","properties":{"sessionId":{"type":"string"},"storyDataId":{"type":"integer","format":"int64"},"storyTitle":{"type":"string"},"isCompleted":{"type":"boolean"},"finalEndingId":{"type":"string"},"gaugeStates":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"AchievementDto":{"type":"object","properties":{"achievementId":{"type":"integer","format":"int64"},"code":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"type":{"type":"string"},"targetValue":{"type":"integer","format":"int32"},"currentValue":{"type":"integer","format":"int32"},"iconUrl":{"type":"string"},"points":{"type":"integer","format":"int32"},"isUnlocked":{"type":"boolean"},"unlockedAt":{"type":"string","format":"date-time"}}},"StorySummaryResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"summary":{"type":"string"}}},"MetadataData":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"totalEpisodes":{"type":"integer","format":"int32"},"totalNodes":{"type":"integer","format":"int32"},"totalGauges":{"type":"integer","format":"int32"},"createdAt":{"type":"string","format":"date-time"}}},"PreviewData":{"type":"object","properties":{"firstEpisodeTitle":{"type":"string"},"firstEpisodeIntro":{"type":"string"},"selectedGauges":{"type":"array","items":{"$ref":"#/components/schemas/GaugeDto"}}}},"StoryResultResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"storyDataId":{"type":"integer","format":"int64"},"metadata":{"$ref":"#/components/schemas/MetadataData"},"preview":{"$ref":"#/components/schemas/PreviewData"}}},"ProgressData":{"type":"object","properties":{"currentPhase":{"type":"string"},"completedEpisodes":{"type":"integer","format":"int32"},"totalEpisodes":{"type":"integer","format":"int32"},"percentage":{"type":"integer","format":"int32"},"message":{"type":"string"},"error":{"type":"string"}}},"StoryProgressResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"progress":{"$ref":"#/components/schemas/ProgressData"}}},"StoryGaugesResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"gauges":{"type":"array","items":{"$ref":"#/components/schemas/GaugeDto"}}}},"StoryCharactersResponseDto":{"type":"object","properties":{"storyId":{"type":"string"},"status":{"type":"string","enum":["ANALYZING","SUMMARY_READY","CHARACTERS_READY","GAUGES_READY","GAUGES_SELECTED","CONFIGURED","GENERATING","COMPLETED","FAILED"]},"characters":{"type":"array","items":{"$ref":"#/components/schemas/CharacterDto"}}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PageReviewResponseDto":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/ReviewResponseDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageSize":{"type":"integer","format":"int32"},"pageNumber":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"PagePostResponseDto":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/PostResponseDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"first":{"type":"boolean"},"last":{"type":"boolean"},"empty":{"type":"boolean"}}}}}}